# 专利交底书自动生成技能

> 自动生成符合 IP-JL-027 标准的专利申请技术交底书

## 功能介绍

本技能帮助用户从创新想法快速生成完整的专利申请技术交底书。支持发明专利和实用新型专利两种类型。

**核心功能**：
- 自动搜索和分析现有技术
- 识别现有方案的缺陷和改进点
- 调研相关专利和技术文献
- 生成符合 IP-JL-027 标准的完整交底书
- 自动生成附图（Mermaid 格式）
- 支持转换为 DOCX 格式

**智能化特性**：
- 自动创新度评估，建议专利类型
- 智能检测已有章节，支持断点续传
- 附图编号自动管理
- 选择性章节重新生成

## 安装步骤

### 1. 安装 Claude Code

确保已安装 Claude Code CLI 工具。

### 2. 配置 MCP 服务

本技能需要配置以下 MCP 服务：
- web-search-prime（网络搜索）
- web-reader（网页内容提取）
- google-patents-mcp（专利检索）
- exa（技术文档搜索）

**详细配置步骤**：见 [CONFIG.md](CONFIG.md)

### 3. 验证安装

运行以下命令验证 MCP 服务是否正确配置：

```bash
/mcp list
```

确保可以看到所有 4 个 MCP 服务。

## 使用指南

### 基本使用

#### 1. 生成专利交底书

运行命令：

```bash
/patent
```

按提示输入信息：

| 参数 | 说明 | 必需 | 示例 |
|------|------|------|------|
| idea | 创新想法的描述 | 是 | 一种基于深度学习的图像识别方法 |
| technical_field | 所属技术领域 | 是 | 计算机视觉、人工智能 |
| keywords | 关键词列表 | 否 | 深度学习、卷积神经网络、图像识别 |
| patent_type | 专利类型 | 否 | 发明专利（默认）或 实用新型专利 |
| output_dir | 输出目录 | 否 | 默认当前目录的 `output/` 文件夹 |

#### 2. 等待生成完成

技能将自动调用多个子代理完成各章节撰写：

```
[1/10] 正在生成发明名称...
[2/10] 正在分析技术领域...
[3/10] 正在调研背景技术...
...
[10/10] 正在整合文档...
```

最终生成：
- `专利申请技术交底书_[发明名称].md` - 完整交底书
- `01_发明名称.md` 到 `09_其他有助于理解本技术的资料.md` - 各章节独立文件

#### 3. 转换为 DOCX（可选）

```bash
/patent-md-2-docx
```

将 Markdown 交底书转换为正式的 DOCX 格式。

### 高级功能

#### 断点续传

如果生成过程中断，再次运行 `/patent` 命令时，技能会自动检测已完成的章节，询问是否继续：

```
检测到已有 5 个章节文件：
✓ 01_发明名称.md
✓ 02_所属技术领域.md
✓ 03_相关的背景技术.md
✓ 04_解决的技术问题.md
✓ 05_技术方案.md

是否从已有章节继续生成交底书？
[继续执行] [重新生成] [选择特定章节重新生成]
```

#### 选择性重新生成

你可以选择只重新生成特定章节，而不影响其他已完成的部分。

#### 附图智能补充

使用 `/patent-update-diagrams` 命令可以：
- 扫描现有章节文件
- 智能分析需要哪些附图
- 自动生成并插入缺失的附图
- 确保附图编号连续

### 斜杠命令

| 命令 | 功能 | 说明 |
|------|------|------|
| `/patent` | 智能生成交底书 | 支持断点续传、选择性重新生成 |
| `/patent-update-diagrams` | 智能补充附图 | 扫描章节并补充缺失的附图 |
| `/patent-md-2-docx` | Markdown 转 DOCX | 将 Markdown 交底书转换为正式格式 |

## 使用示例

### 示例 1：基本使用

```
你：帮我写一份专利交底书

Claude：好的，我需要了解一些信息：
1. 你的创新想法是什么？
2. 所属技术领域是什么？
3. 有什么关键词可以帮助搜索吗？（可选）

你：
- 创新想法：一种基于深度学习的图像去雾方法，通过注意力机制增强去雾效果
- 技术领域：计算机视觉/图像处理
- 关键词：图像去雾、深度学习、注意力机制、卷积神经网络

Claude：开始生成专利交底书...

[自动执行 11 个子代理任务]

完成！交底书已生成：
- Markdown: 专利申请技术交底书_一种基于深度学习的图像去雾方法.md
- 各章节文件: 01_发明名称.md 到 09_其他有助于理解本技术的资料.md
```

### 示例 2：硬件发明

```
你：我想为这个想法申请专利：一种可折叠的太阳能充电宝，内置无线充电功能

Claude：好的，我需要了解一些信息：
1. 所属技术领域是什么？

你：消费电子 / 移动电源 / 新能源

Claude：开始生成专利交底书...

[自动执行以下流程]
1. 生成发明名称：一种可折叠的太阳能充电宝
2. 分析技术领域：移动电源技术领域
3. 调研背景技术：搜索现有太阳能充电宝专利...
4. 分析技术问题：现有产品的局限性...
5. 设计技术方案：折叠结构 + 无线充电方案...
6. 分析有益效果：便携性提升、充电效率提升...
7. 编写具体实施方式：详细结构和工作原理...
8. 提炼保护点：折叠结构、无线充电集成方案...
9. 收集参考资料：相关专利文献...
10. 整合文档：生成完整交底书

完成！
```

### 示例 3：软件/算法发明

```
你：帮我写专利交底书

Claude：我需要了解一些信息...

你：
- 创新想法：一种分布式数据库的一致性协议，通过拜占庭容错保证数据安全
- 技术领域：分布式系统 / 数据库
- 关键词：分布式数据库、一致性协议、拜占庭容错、共识算法

Claude：开始生成专利交底书...

[自动搜索相关技术文献和专利]
[分析现有一致性协议的缺陷]
[设计新的技术方案]
[生成完整交底书]

完成！
```

## 专利类型选择

### 发明专利

**适用场景**：
- 涉及新的技术方法、算法
- 产品或方法的重大改进
- 技术原理创新

**特点**：
- 审查周期：2-3年
- 保护期限：20年
- 创新要求：突出实质性特点和显著进步

### 实用新型专利

**适用场景**：
- 产品形状、构造的改进
- 实用性技术方案
- 结构性创新

**特点**：
- 审查周期：6-12个月
- 保护期限：10年
- 创新要求：实质性特点和进步

**自动建议**：技能会在背景技术调研后自动评估创新度，如果建议降级到实用新型专利，会询问你是否接受。

## 输出格式

生成的交底书包含以下章节：

1. **发明创造名称** - 发明的通用名称或核心技术描述
2. **所属技术领域** - 技术方案所属领域描述
3. **相关的背景技术** - 技术领域现状及存在的技术问题
4. **发明内容**
   - （1）解决的技术问题
   - （2）技术方案
   - （3）有益效果
5. **具体实施方式** - 具体实施方案和工作原理
6. **关键点和欲保护点** - 技术方案的关键创新点
7. **其他有助于理解本技术的资料** - 参考文献等

附图以 Mermaid 代码块形式嵌入在对应章节中。

## 常见问题

### Q: 生成需要多长时间？

A: 取决于创新想法的复杂程度，通常需要 5-15 分钟。背景技术调研和附图生成是最耗时的部分。

### Q: 可以修改生成的内容吗？

A: 可以。每个章节都会生成独立的 Markdown 文件，你可以直接编辑。修改后重新运行 `/patent` 整合文档即可。

### Q: 如何提高生成质量？

A:
1. 提供详细、具体的创新想法
2. 准确选择技术领域和关键词
3. 根据建议选择合适的专利类型
4. 生成后仔细审核并修改

### Q: MCP 服务配置失败怎么办？

A: 查看 [CONFIG.md](CONFIG.md) 和 [TROUBLESHOOTING.md](TROUBLESHOOTING.md) 获取详细的配置指导和故障排查方法。

### Q: 支持哪些类型的附图？

A: 支持多种 Mermaid 图表类型：
- 流程图（flowchart）
- 时序图（sequence）
- 架构图（architecture）
- 协议图（protocol）
- 原理图（principle）

### Q: 生成的 DOCX 文件可以直接提交吗？

A: 生成的 DOCX 文件：
- 基于 IP-JL-027 标准模板
- 包含完整的章节结构
- 可以直接作为初稿使用

**建议**：提交前请：
1. 仔细审核技术描述的准确性
2. 补充具体的实验数据或测试结果
3. 由专利代理人进行专业审查

## 更新日志

### v1.0.0
- 初始发布
- 支持发明专利和实用新型专利
- 支持 11 个子代理的串行执行
- 支持附图自动生成和编号管理
- 支持断点续传和选择性重新生成

## 相关文档

- [配置指南](CONFIG.md) - MCP 服务配置详细步骤
- [子代理详解](AGENTS.md) - 每个子代理的详细说明
- [故障排查指南](TROUBLESHOOTING.md) - 常见问题和解决方案
- [SKILL.md](SKILL.md) - 技能定义和执行指令

## 技术支持

- 问题反馈：[GitHub Issues](https://github.com/allanpk716/EasyJobSkills/issues)
- 项目主页：[EasyJob Skills Marketplace](https://github.com/allanpk716/EasyJobSkills)

## 许可证

MIT License
